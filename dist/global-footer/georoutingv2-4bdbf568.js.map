{"version":3,"file":"georoutingv2-4bdbf568.js","sources":["../../libs/features/georoutingv2/georoutingv2.js"],"sourcesContent":["let config;\nlet createTag;\nlet getMetadata;\nlet loadBlock;\nlet loadStyle;\nlet sendAnalyticsFunc;\n\nconst createTabsContainer = (tabNames) => {\n  const ol = createTag('ol');\n  tabNames.forEach((name) => {\n    const li = createTag('li', null, name);\n    ol.appendChild(li);\n  });\n  const olDiv = createTag('div', null, ol);\n  const outerDiv = createTag('div', null, olDiv);\n  const divTabs = createTag('div', { class: 'tabs quiet' }, outerDiv);\n  return createTag('div', { class: 'section tabs-background-transparent' }, divTabs);\n};\n\nconst createTab = (content, tabName) => {\n  const divTab = createTag('div', null, 'tab');\n  const divTagName = createTag('div', null, tabName);\n  const tab = createTag('div');\n  tab.appendChild(divTab);\n  tab.appendChild(divTagName);\n  const sectionMeta = createTag('div', { class: 'section-metadata' }, tab);\n  const topDiv = createTag('div', { class: 'section' });\n  topDiv.append(content);\n  topDiv.append(sectionMeta);\n  return topDiv;\n};\n\nexport const getCookie = (name) => document.cookie\n  .split('; ')\n  .find((row) => row.startsWith(`${name}=`))\n  ?.split('=')[1];\n\nconst getAkamaiCode = () => new Promise((resolve, reject) => {\n  const urlParams = new URLSearchParams(window.location.search);\n  const akamaiLocale = urlParams.get('akamaiLocale') || sessionStorage.getItem('akamai');\n  if (akamaiLocale !== null) {\n    resolve(akamaiLocale.toLowerCase());\n  } else {\n    /* c8 ignore next 5 */\n    fetch('https://geo2.adobe.com/json/', { cache: 'no-cache' }).then((resp) => {\n      if (resp.ok) {\n        resp.json().then((data) => {\n          const code = data.country.toLowerCase();\n          sessionStorage.setItem('akamai', code);\n          resolve(code);\n        });\n      } else {\n        reject(new Error(`Something went wrong getting the akamai Code. Response status text: ${resp.statusText}`));\n      }\n    }).catch((error) => {\n      reject(new Error(`Something went wrong getting the akamai Code. ${error.message}`));\n    });\n  }\n});\n\n// Determine if any of the locales can be linked to.\nasync function getAvailableLocales(locales) {\n  const fallback = getMetadata('fallbackrouting') || config.fallbackRouting;\n\n  const { prefix } = config.locale;\n  let path = window.location.href.replace(`${window.location.origin}`, '');\n  if (path.startsWith(prefix)) path = path.replace(prefix, '');\n\n  const availableLocales = [];\n  const pagesExist = [];\n  locales.forEach((locale, index) => {\n    const locPrefix = locale.prefix ? `/${locale.prefix}` : '';\n    const localePath = `${locPrefix}${path}`;\n\n    const pageExistsRequest = fetch(localePath, { method: 'HEAD' }).then((resp) => {\n      if (resp.ok) {\n        locale.url = localePath;\n        availableLocales[index] = locale;\n      } else if (fallback !== 'off') {\n        locale.url = `${locPrefix}`;\n        availableLocales[index] = locale;\n      }\n    });\n    pagesExist.push(pageExistsRequest);\n  });\n  if (pagesExist.length > 0) await Promise.all(pagesExist);\n\n  return availableLocales.filter((a) => !!a);\n}\n\nfunction getGeoroutingOverride() {\n  const urlParams = new URLSearchParams(window.location.search);\n  const param = urlParams.get('georouting');\n  const georouting = param || getCookie('georouting');\n  if (param === 'off') {\n    const domain = window.location.host.endsWith('.adobe.com') ? 'domain=adobe.com' : '';\n    const d = new Date();\n    d.setTime(d.getTime() + (365 * 24 * 60 * 60 * 1000));\n    const expires = `expires=${d.toUTCString()}`;\n    document.cookie = `georouting=${georouting};${expires};path=/;${domain}`;\n  } else if (param === 'on') document.cookie = 'georouting=; expires= Thu, 01 Jan 1970 00:00:00 GMT';\n  return georouting === 'off';\n}\n\nfunction decorateForOnLinkClick(link, urlPrefix, localePrefix) {\n  link.addEventListener('click', () => {\n    const modPrefix = urlPrefix || 'us';\n    // set cookie so legacy code on adobecom still works properly.\n    const domain = window.location.host === 'adobe.com'\n      || window.location.host.endsWith('.adobe.com') ? 'domain=adobe.com' : '';\n    document.cookie = `international=${modPrefix};path=/;${domain}`;\n    link.closest('.dialog-modal').dispatchEvent(new Event('closeModal'));\n    if (localePrefix !== undefined) {\n      const modCurrPrefix = localePrefix || 'us';\n      sendAnalyticsFunc(new Event(`Stay:${modPrefix.split('_')[0]}-${modCurrPrefix.split('_')[0]}|Geo_Routing_Modal`));\n    }\n  });\n}\n\nfunction getCodes(data) {\n  return data.akamaiCodes.split(',').map((a) => a.toLowerCase().trim());\n}\n\nfunction getMatches(data, suppliedCode) {\n  return data.reduce((rdx, locale) => {\n    const localeCodes = getCodes(locale);\n    if (localeCodes.some((code) => code === suppliedCode)) rdx.push(locale);\n    return rdx;\n  }, []);\n}\n\nfunction removeOnClickOutsideElement(element, event, button) {\n  const func = (evt) => {\n    if (event === evt) return; // ignore initial click event\n    let targetEl = evt.target;\n    while (targetEl) {\n      if (targetEl === element) {\n        // click inside\n        return;\n      }\n      // Go up the DOM\n      targetEl = targetEl.parentNode;\n    }\n    // This is a click outside.\n    element.remove();\n    button.setAttribute('aria-expanded', false);\n    document.removeEventListener('click', func);\n  };\n  document.addEventListener('click', func);\n}\n\nfunction openPicker(button, locales, country, event, dir) {\n  if (document.querySelector('.locale-modal-v2 .picker')) {\n    return;\n  }\n  const list = createTag('ul', { class: 'picker', dir });\n  locales.forEach((l) => {\n    const lang = config.locales[l.prefix]?.ietf ?? '';\n    const a = createTag('a', { lang, href: l.url }, `${country} - ${l.language}`);\n    decorateForOnLinkClick(a, l.prefix);\n    const li = createTag('li', {}, a);\n    list.appendChild(li);\n  });\n  button.parentNode.insertBefore(list, button.nextSibling);\n  const buttonRect = button.getBoundingClientRect();\n  const spaceBelowButton = window.innerHeight - buttonRect.bottom;\n  if (spaceBelowButton <= list.offsetHeight) {\n    list.classList.add('top');\n  }\n\n  button.setAttribute('aria-expanded', true);\n  removeOnClickOutsideElement(list, event, button);\n}\n\nfunction buildContent(currentPage, locale, geoData, locales) {\n  const fragment = new DocumentFragment();\n  const lang = config.locales[locale.prefix]?.ietf ?? '';\n  const dir = config.locales[locale.prefix]?.dir ?? 'ltr';\n  const geo = geoData.filter((c) => c.prefix === locale.prefix);\n  const titleText = geo.length ? geo[0][currentPage.geo] : '';\n  const title = createTag('h3', { lang, dir }, locale.title.replace('{{geo}}', titleText));\n  const text = createTag('p', { class: 'locale-text', lang, dir }, locale.text);\n  const flagFile = locale.globeGrid?.toLowerCase().trim() === 'on' ? 'globe-grid.png' : `flag-${locale.geo.replace('_', '-')}.svg`;\n  const img = createTag('img', {\n    class: 'icon-milo',\n    width: 15,\n    height: 15,\n    alt: locale.button,\n  });\n  img.addEventListener(\n    'error',\n    () => (img.src = `${config.miloLibs || config.codeRoot}/features/georoutingv2/img/globe-grid.png`),\n    { once: true },\n  );\n  img.src = `${config.miloLibs || config.codeRoot}/img/georouting/${flagFile}`;\n  const span = createTag('span', { class: 'icon margin-inline-end' }, img);\n  const mainAction = createTag('a', {\n    class: 'con-button blue button-l', lang, role: 'button', 'aria-haspopup': !!locales, 'aria-expanded': false, href: '#',\n  }, span);\n  mainAction.append(locale.button);\n  if (locales) {\n    const downArrow = createTag('img', {\n      class: 'icon-milo down-arrow',\n      src: `${config.miloLibs || config.codeRoot}/ui/img/chevron.svg`,\n      width: 15,\n      height: 15,\n    });\n    span.appendChild(downArrow);\n    mainAction.addEventListener('click', (e) => {\n      e.preventDefault();\n      openPicker(mainAction, locales, locale.button, e, dir);\n    });\n  } else {\n    mainAction.href = locale.url;\n    decorateForOnLinkClick(mainAction, locale.prefix);\n  }\n\n  const altAction = createTag('a', { lang, href: currentPage.url }, currentPage.button);\n  decorateForOnLinkClick(altAction, currentPage.prefix, locale.prefix);\n  const linkWrapper = createTag('div', { class: 'link-wrapper' }, mainAction);\n  linkWrapper.appendChild(altAction);\n  fragment.append(title, text, linkWrapper);\n  return fragment;\n}\n\nasync function getDetails(currentPage, localeMatches, geoData) {\n  const availableLocales = await getAvailableLocales(localeMatches);\n  if (!availableLocales.length) return null;\n  const { innerWidth } = window;\n  let svgDiv = null;\n  if (innerWidth < 480) {\n    const { default: getMobileBg } = await import('./getMobileBg.js');\n    svgDiv = createTag('div', { class: 'georouting-bg' }, getMobileBg());\n  }\n  const georoutingWrapper = createTag('div', { class: 'georouting-wrapper fragment', style: 'display:none;' }, svgDiv);\n  currentPage.url = window.location.hash ? document.location.href : '#';\n  if (availableLocales.length === 1) {\n    const content = buildContent(currentPage, availableLocales[0], geoData);\n    georoutingWrapper.appendChild(content);\n    return georoutingWrapper;\n  }\n  const sortedLocales = availableLocales.sort((a, b) => a.languageOrder - b.languageOrder);\n  const tabsContainer = createTabsContainer(sortedLocales.map((l) => l.language));\n  georoutingWrapper.appendChild(tabsContainer);\n\n  sortedLocales.forEach((locale) => {\n    const content = buildContent(currentPage, locale, geoData, sortedLocales);\n    const tab = createTab(content, locale.language);\n    georoutingWrapper.appendChild(tab);\n  });\n  return georoutingWrapper;\n}\n\nasync function showModal(details) {\n  const { miloLibs, codeRoot } = config;\n\n  const tabs = details.querySelector('.tabs');\n  const promises = [\n    tabs ? loadBlock(tabs) : null,\n    tabs ? loadStyle(`${miloLibs || codeRoot}/blocks/section-metadata/section-metadata.css`) : null,\n    loadStyle(`${miloLibs || codeRoot}/features/georoutingv2/georoutingv2.css`),\n  ];\n  await Promise.all(promises);\n  // eslint-disable-next-line import/no-cycle\n  const { getModal, sendAnalytics } = await import('../../blocks/modal/modal.js');\n  sendAnalyticsFunc = sendAnalytics;\n  return getModal(null, { class: 'locale-modal-v2', id: 'locale-modal-v2', content: details, closeEvent: 'closeModal' });\n}\n\nexport default async function loadGeoRouting(\n  conf,\n  createTagFunc,\n  getMetadataFunc,\n  loadBlockFunc,\n  loadStyleFunc,\n) {\n  if (getGeoroutingOverride()) return;\n  config = conf;\n  createTag = createTagFunc;\n  getMetadata = getMetadataFunc;\n  loadBlock = loadBlockFunc;\n  loadStyle = loadStyleFunc;\n\n  const resp = await fetch(`${config.contentRoot ?? ''}/georoutingv2.json`);\n  if (!resp.ok) {\n    // eslint-disable-next-line import/no-cycle\n    const { default: loadGeoRoutingOld } = await import('../georouting/georouting.js');\n    loadGeoRoutingOld(config, createTag, getMetadata);\n    return;\n  }\n  const json = await resp.json();\n\n  const { locale } = config;\n\n  const urlLocale = locale.prefix.replace('/', '');\n  const storedInter = getCookie('international');\n  const storedLocale = storedInter === 'us' ? '' : storedInter;\n\n  const urlGeoData = json.georouting.data.find((d) => d.prefix === urlLocale);\n  if (!urlGeoData) return;\n\n  if (storedLocale || storedLocale === '') {\n    const urlLocaleGeo = urlLocale.split('_')[0];\n    const storedLocaleGeo = storedLocale.split('_')[0];\n    // Show modal when url and cookie disagree\n    if (urlLocaleGeo !== storedLocaleGeo) {\n      const localeMatches = json.georouting.data.filter(\n        (d) => d.prefix === storedLocale,\n      );\n      const details = await getDetails(urlGeoData, localeMatches, json.geos.data);\n      if (details) {\n        await showModal(details);\n        sendAnalyticsFunc(\n          new Event(`Load:${storedLocaleGeo || 'us'}-${urlLocaleGeo || 'us'}|Geo_Routing_Modal`),\n        );\n      }\n    }\n    return;\n  }\n\n  // Show modal when derived countries from url locale and akamai disagree\n  try {\n    const akamaiCode = await getAkamaiCode();\n    if (akamaiCode && !getCodes(urlGeoData).includes(akamaiCode)) {\n      const localeMatches = getMatches(json.georouting.data, akamaiCode);\n      const details = await getDetails(urlGeoData, localeMatches, json.geos.data);\n      if (details) {\n        await showModal(details);\n        sendAnalyticsFunc(\n          new Event(`Load:${urlLocale || 'us'}-${akamaiCode || 'us'}|Geo_Routing_Modal`),\n        );\n      }\n    }\n  } catch (e) {\n    window.lana?.log(e.message);\n  }\n}\n"],"names":["_catch","body","recover","result","e","then","loadGeoRouting","conf","createTagFunc","getMetadataFunc","loadBlockFunc","loadStyleFunc","getGeoroutingOverride","Promise","resolve","config","createTag","getMetadata","loadBlock","loadStyle","fetch","contentRoot","resp","_exit","_temp14","_result","json","_exit2","_temp12","_result2","_temp10","getAkamaiCode","akamaiCode","_temp9","getCodes","urlGeoData","includes","localeMatches","getMatches","georouting","data","getDetails","geos","details","_temp8","showModal","sendAnalyticsFunc","Event","urlLocale","window","lana","log","message","locale","prefix","replace","storedInter","getCookie","storedLocale","find","d","_temp11","_temp7","urlLocaleGeo","split","storedLocaleGeo","_temp6","filter","_temp5","_temp13","ok","default","loadGeoRoutingOld","reject","miloLibs","codeRoot","tabs","querySelector","promises","all","getModal","sendAnalytics","class","id","content","closeEvent","currentPage","geoData","getAvailableLocales","availableLocales","_temp4","georoutingWrapper","style","svgDiv","url","location","hash","document","href","length","buildContent","appendChild","sortedLocales","sort","a","b","languageOrder","tabsContainer","createTabsContainer","map","l","language","forEach","tab","createTab","innerWidth","_temp3","getMobileBg","locales","_temp2","fallback","fallbackRouting","path","origin","startsWith","pagesExist","index","locPrefix","localePath","pageExistsRequest","method","push","_temp","tabNames","ol","name","li","olDiv","outerDiv","divTabs","tabName","divTab","divTagName","sectionMeta","topDiv","append","cookie","row","urlParams","URLSearchParams","search","akamaiLocale","get","sessionStorage","getItem","toLowerCase","cache","code","country","setItem","Error","statusText","catch","error","param","domain","host","endsWith","Date","setTime","getTime","expires","toUTCString","decorateForOnLinkClick","link","urlPrefix","localePrefix","addEventListener","modPrefix","closest","dispatchEvent","undefined","modCurrPrefix","akamaiCodes","trim","suppliedCode","reduce","rdx","localeCodes","some","removeOnClickOutsideElement","element","event","button","func","evt","targetEl","target","parentNode","remove","setAttribute","removeEventListener","openPicker","dir","list","lang","ietf","insertBefore","nextSibling","buttonRect","getBoundingClientRect","spaceBelowButton","innerHeight","bottom","offsetHeight","classList","add","fragment","DocumentFragment","geo","c","titleText","title","text","flagFile","globeGrid","img","width","height","alt","src","once","span","mainAction","role","downArrow","preventDefault","altAction","linkWrapper"],"mappings":"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"}