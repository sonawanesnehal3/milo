{"version":3,"file":"martech-metadata-c7ffd8ad.js","sources":["../../libs/blocks/martech-metadata/martech-metadata.js"],"sourcesContent":["import { getConfig } from '../../utils/utils.js';\nimport { processTrackingLabels } from '../../martech/attributes.js';\n\nexport const getMetadata = (el, config) => [...el.childNodes].reduce((rdx, row) => {\n  if (row.children?.length > 1) {\n    const key = processTrackingLabels(row.children[0].textContent, config);\n    const value = processTrackingLabels(row.children[1].textContent, config);\n    if (key && value) rdx[key] = value;\n  }\n  return rdx;\n}, {});\n\nexport default function init(el) {\n  const config = getConfig();\n  const { locale, ietf = locale?.ietf, analyticLocalization } = config;\n  if (ietf !== 'en-US') {\n    config.analyticLocalization = {\n      ...analyticLocalization,\n      ...getMetadata(el, config),\n    };\n  }\n  el.remove();\n  return config;\n}\n"],"names":["getMetadata","el","config","childNodes","reduce","rdx","row","children","length","key","processTrackingLabels","textContent","value","init","getConfig","locale","ietf","analyticLocalization","remove"],"mappings":";;MAGaA,WAAW,GAAGA,CAACC,EAAE,EAAEC,MAAM,KAAK,CAAC,GAAGD,EAAE,CAACE,UAAU,CAAC,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;EACjF,IAAIA,GAAG,CAACC,QAAQ,EAAEC,MAAM,GAAG,CAAC,EAAE;IAC5B,MAAMC,GAAG,GAAGC,qBAAqB,CAACJ,GAAG,CAACC,QAAQ,CAAC,CAAC,CAAC,CAACI,WAAW,EAAET,MAAM,CAAC;IACtE,MAAMU,KAAK,GAAGF,qBAAqB,CAACJ,GAAG,CAACC,QAAQ,CAAC,CAAC,CAAC,CAACI,WAAW,EAAET,MAAM,CAAC;IACxE,IAAIO,GAAG,IAAIG,KAAK,EAAEP,GAAG,CAACI,GAAG,CAAC,GAAGG,KAAK;;EAEpC,OAAOP,GAAG;AACZ,CAAC,EAAE,EAAE;AAEU,SAASQ,IAAIA,CAACZ,EAAE,EAAE;EAC/B,MAAMC,MAAM,GAAGY,SAAS,EAAE;EAC1B,MAAM;IAAEC,MAAM;IAAEC,IAAI,GAAGD,MAAM,EAAEC,IAAI;IAAEC;GAAsB,GAAGf,MAAM;EACpE,IAAIc,IAAI,KAAK,OAAO,EAAE;IACpBd,MAAM,CAACe,oBAAoB,GAAG;MAC5B,GAAGA,oBAAoB;MACvB,GAAGjB,WAAW,CAACC,EAAE,EAAEC,MAAM;KAC1B;;EAEHD,EAAE,CAACiB,MAAM,EAAE;EACX,OAAOhB,MAAM;AACf;;;;"}