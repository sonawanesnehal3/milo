{"version":3,"file":"helpers-07162686.js","sources":["../../libs/utils/helpers.js"],"sourcesContent":["import { getMetadata } from './utils.js';\n\n/**\n * Prefixes the link with the language root defined in the metadata\n * @param link\n * @returns {string|*}\n */\n// eslint-disable-next-line import/prefer-default-export\nexport function updateLinkWithLangRoot(link) {\n  const langRoot = getMetadata('lang-root');\n  if (!langRoot) return link;\n  try {\n    const url = new URL(link);\n    url.pathname = `${langRoot}${url.pathname}`;\n    return url.href;\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error('Could not update link with lang root', e);\n    return link;\n  }\n}\n\nexport async function customFetch({ resource, withCacheRules }) {\n  const options = {};\n  if (withCacheRules) {\n    const params = new URLSearchParams(window.location.search);\n    options.cache = params.get('cache') === 'off' ? 'reload' : 'default';\n  }\n  return fetch(resource, options);\n}\n"],"names":["customFetch","resource","withCacheRules","options","params","URLSearchParams","window","location","search","cache","get","Promise","resolve","fetch","e","reject","updateLinkWithLangRoot","link","langRoot","getMetadata","url","URL","pathname","href","console","error"],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA;;MAesBA,WAAW,aAAC;EAAEC,QAAQ;EAAEC;AAAe,CAAC;EAAA,IAAE;IAC9D,MAAMC,OAAO,GAAG,EAAE;IAClB,IAAID,cAAc,EAAE;MAClB,MAAME,MAAM,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;MAC1DL,OAAO,CAACM,KAAK,GAAGL,MAAM,CAACM,GAAG,CAAC,OAAO,CAAC,KAAK,KAAK,GAAG,QAAQ,GAAG,SAAS;;IAEtE,OAAAC,OAAA,CAAAC,OAAA,CAAOC,KAAK,CAACZ,QAAQ,EAAEE,OAAO,CAAC;GAChC,QAAAW,CAAA;IAAA,OAAAH,OAAA,CAAAI,MAAA,CAAAD,CAAA;;AAAA;AArBM,SAASE,sBAAsBA,CAACC,IAAI,EAAE;EAC3C,MAAMC,QAAQ,GAAGC,WAAW,CAAC,WAAW,CAAC;EACzC,IAAI,CAACD,QAAQ,EAAE,OAAOD,IAAI;EAC1B,IAAI;IACF,MAAMG,GAAG,GAAG,IAAIC,GAAG,CAACJ,IAAI,CAAC;IACzBG,GAAG,CAACE,QAAQ,GAAG,GAAGJ,QAAQ,GAAGE,GAAG,CAACE,QAAQ,EAAE;IAC3C,OAAOF,GAAG,CAACG,IAAI;GAChB,CAAC,OAAOT,CAAC,EAAE;;IAEVU,OAAO,CAACC,KAAK,CAAC,sCAAsC,EAAEX,CAAC,CAAC;IACxD,OAAOG,IAAI;;AAEf;;;;"}